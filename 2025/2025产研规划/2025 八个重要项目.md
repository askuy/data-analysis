# 1 自动化 郑伟 - 2

* [https://shimo.im/docs/rp3OMWbjOlh6NDkm](https://shimo.im/docs/rp3OMWbjOlh6NDkm)

* 构建产物

   * 发布流

      * 版本无法定版，不知道是哪个版本

   * 前后端

* 项目管理问题

   * Pipeline

   * Release 哪些信息

* BreakChange 全部（全站+SDK）1年。sdk 全部搞完，？个月。

   * 配置.ts

   * API.ts

      * 前端是否依赖后端。

      * 是否需要修改配置。

   * 边界不好操作

* 升级资源配置同步 郑伟

   * 问题：升级资源包出厂配置差，基本都是1/10核 32M，升级后几十个服务yml会被覆盖，sre需要对每个配置对比更新以前线上的配置。

   * 解决方案：提供批量检测对比脚本，和批量替换脚本工具，方便sre快速对比，更新配置信息，至少节省1个小时的部署时间

   * 



# 2 极速SDK 郑细弯 - 2

[https://shimo.im/docs/5xkGoDwOw8UwmnkX](https://shimo.im/docs/5xkGoDwOw8UwmnkX)

极速版本SDK（预览+编辑）  明年2月份之前

* 一个二进制

   * 前端静态资源

   * rust so

   * golang

      * API

      * License

      * 鉴权

   * 无MySQL，Minio

   * 无账号体系，权限体系

* 是否公开下载

   * 公开下载，有水印功能

   * 加入License，去除水印

* 4个半人参与

   * 卢阳->()，细弯，陈阳。

   * 1人月 server demo，半个月胶水成本

   * 完善 

      * 配套设施，1个月，版本管理

      * 功能完善，2个月

      * 开放平台，文档写清楚，1个月

      * 放到云SDK，1个月

   * 前端编辑，大文件看多少禁止编辑



# 3 标准SDK 陈阳 - 2

[https://shimo.im/docs/47kgMdrXWMS59G3V](https://shimo.im/docs/47kgMdrXWMS59G3V)

SDK版本管理

* BreakChange

   * 后端是否修改配置

   * 后端是否改表结构

   * 前端是否改配置

   * 前端是否依赖后端

SDK 明年6月份之前

* 丰富 JS API，文档

* SDK壳子（始终有人干，资深），工程化（一次性的，看经验，中级的）

* 版本管理 8个月

   * 前端工程化 done

   * BreakChange分析 done

   * Pipeline，Release Note项目管理 一年，一年半。

* 前端预览服务 （除去office，其他预览例如pdf，视频 3个月）

* SDK nodejs全下掉，去掉lizard view（6个月）

* 对接

   * 前端SDK重构 （核心重构8个月，如果全部重构时间可能比较长）

   * 胶水

   * 文档场景化

* 自动化 依赖于项目1

   * 测试自动化  (需要改造半年）

   * 交付自动化 ( 需要改造半年）

* 性能问题 依赖于项目5

   * 协同读

   * 导入导出

   * 公式计算

-「2 人」


# 4 应用表格 杜璞 - 2

[https://shimo.im/docs/KlkKv0rddnSlrGqd](https://shimo.im/docs/KlkKv0rddnSlrGqd)

* V1 初版 (2025.1.1之前)

   * 目标: 300M 文件体积 = 15 万行 * 100列 = 1500万单元格

   * 事项:

      * 常量池实现, 解决重复数据压缩问题

      * 增加行属性, 为以后高级权限等功能提供支持

      * 前后端均完成接入

* V2 版本 (3个月)

   * 目标: 300M 文件体积 = 30 万行 * 100列 = 3000万单元格

   * 事项:

      * 进一步压缩优化体积

         * Cell data 去除 guid 字段, 同步调整 Col 结构

         * Cell 值类型优化, 数值类型压缩存储, 节省一次寻址成本和内存占用

         * 需调研哪些业务字段使用常量池重构

         * Col 字段压缩

* V3 版本(6个月)

   * 目标: 支持业务需求

   * 事项: 

      * 支持 rust 版导入导出. 表格-应用表格转化

      * 高级权限

      * 接入公式引擎, 全量支持表格公式

      * 重新设计跨表格/应用表格引用, 支持多数据源导入

      * 优化自动化驱动引擎

      * Cell 数据版本问题

         * 解决单元格协作覆盖问题 

* V4 版本

   * 目标: 实现分片存储, 对标金山

   * 事项: 

      * 实现分片存储方案, 进一步支持大表

      * 提高 IO 性能

         * 行数据分桶存储方案

         * 行数据遍历方式优化

-「2 人」


# 5 稳定性-导入导出 徐继开 -2

* V3 版本  （计划同 Saas 反推一起上线）

   * **重构文件处理模块**

      * 优化 office-gateway 导入/导出/预览功能的代码架构

      * 提升整体代码质量和可维护性

   * **文件传输机制升级**

      * 将文件流处理统一改为基于 URL 的传输方式

         * sdk-api 预览场景

         * 编辑导入时，创建历史记录由文件流改为桶信息传递

         * 转码任务的导入/导出均调整为传递 url

      * 有效解决大文件传输导致的性能问题

   * **任务管理架构重构**

      * 将纯 Redis 任务管理调整为基于数据表的任务管理

      * 简化复杂的、多样的 Redis 结构，提升 Redis 性能

      * 在查询层引入 Redis 缓存,兼顾性能与可维护性

      * 提供更可靠的数据持久化能力

   * **任务调度机制改进**

      * 采用 gRPC 进行任务分发

      * 实现更均衡和高效的负载分配

   * **任务状态更新优化**

      * 采用回调机制替代轮询方式

      * 各个组件通过回调主动推送任务状态

      * 显著降低系统 goroutine 使用量

      * 提升系统资源利用效率


# 6 稳定性-表格计算 胡星宇 - 2


**2024-11**

   * 441 个公式灰度，非付费用户 10%～50%

   * 公式解析接入

   * CI/CD (Runner-mac) 测试通过率

**2024-12**

   * 441 灰度-> 全量

   * CI/CD 加入 Bench tests

   * 复杂公式实现 - 50%

**2025-6**

   * 跨表格公式(如: ImportRange)

   * 复杂公式实现 - 100%

   * WebASM


公式实现情况统计:

>[https://shimo.im/sheets/9030Jry646HVaYkw/CK6EB](https://shimo.im/sheets/9030Jry646HVaYkw/CK6EB)
现有计算逻辑被认定为 Bug 的清单

>[https://p.shimo.run/projects/saas-and-tong-ban-ke-hu-duan-and-app/work_packages/10564/relations](https://p.shimo.run/projects/saas-and-tong-ban-ke-hu-duan-and-app/work_packages/10564/relations)

补充下比较重要的点，和相关文档，以及后续同步进度给陈岚

# 7 稳定性-协同编辑 杜旻翔 -1

1. 完成 FC 函数替换，移除 svc-edit 对 svc-fc 服务的调用

   1. 增加本地处理小文件能力，提升 compose 效率

   2. 避免对高资源 node 服务依赖，降低资源消耗

   3. 改造为大文件 gRPC 调用 svc-ot 服务，增强服务稳定性

2. 相关文档

   1. [FC 函数模块](https://shimo.im/sheets/ZzkLMWNOjZFBVrAQ/MODOC)


目前进度 2024.11.15 上 pre 环境，2024.11.18 开始逐步放量灰度，预计 2024.12.18 完成替换


# 8 专业文档的预研 -2 



