


## 私有化项目交付成果

目前截止在维护项目共计81个，其中POC 15个，维保支持 66个。


### POC项目（15个）

* 北京钢研高纳科技

* 岚图汽车

* 上海鸿翼

* 中博通信-党建云

* 思诚科技

* 埃森哲

* 杭州市政府

* 成都天奥科技

* 珠海市煦堃商务

* 蓝信移动

* 北京自来水

* 海信集团

* 中科驭数

* 深圳亚讯

* 无锡数据集团



### 正式交付（13个）

* 中电信数智

* 武汉胜意

* 天翼云盘

* 福昕网络

* 重庆儿童医院

* 北京凯读

* 百度(文心一言)

* 卡斯柯

* 苏州国发

* 中电信量子

* 宜宾辰海科技

* 广州放大镜

* 四川准则信息


### 大版本升级（17个）

* 边锋游戏

* TCL

*  OPPO 

*  跨越速运 

*  新华三 

*  喜马拉雅 

*  格力

* 盛天网络

* 招商金科

* 小红书

* 广东电信研究院  1.1 -> 1.2 -> 1.4

* 微众银行

* 中广核

* 云鲸智能

* 长亮科技

* 中船704

* 滴滴

* 



### 交付工具优化

* 海外私有化harbor镜像仓库同步方案与实现。

* MySQL迁移达梦数据库的演练与文档梳理。

* 优化标准包部署，中间件集群版本Redis和Mongo的稳定性，解决主从标签丢失导致的服务不可用。

* 优化离线镜像打包，通过Jenkins工具配置快速打包下载，提升交付效率。

* 开发shimo-cli工具快速部署clickvisual 日志采集查询组件。

* 优化监控部署及组件迭代升级，完善监控指标和告警规则。

* 优化离线版仓库，将离线包Harbor仓库替换为Registry，降低资源使用率，提升服务稳定性

* 升级k8s版本组件，适配国内外常用操作系统。



## 目前存在的问题

#### 安装要求的界定

* 使用客户提供的k8s 集群时，需明确所需资源权限，对于不符合的拒绝部署，或采用祼机标准部署。

* 明确前置nginx网关的配置参数要求，需前置沟通确认。


#### mdp-installer 安装

* 需支持自动部署免密登录

* 部署失败时，错误信息不够直观，或报错信息与实际不符，不能快速定位原因，增加排查成本。

* 支持非标部署场景

* 

#### mdp管理与升级

* 内置 kafkaUI 需支持 SASL加密的kafka接入管理

* 升级包的定版控制，最新包更新存在兼容性风险(如何识别)，不能满足单个Bug的hotfix，。


#### 中间件问题

* 标准部署的Mysql 缺少主从监控机制，Pod或节点重启恢复后，主从同步容易断连，需要监控恢复机制。

* kafka大数据量场景下oom重启加载时间过长问题。


#### 应用资源配置问题

* 应用容量配置没有参考标准，需要根据以往案例经验拍，或与研发沟通制定，增加了部署成本。

   * 资源配置标准- CPU内存的Limit 值固定，确定单副本容纳多少人，通过扩容副本调整。

* 1.6 版本资源模板上线后，需持续打磨确定不同客户体量的配置模板。


#### 产品配置及文档问题

* 定制化配置很多、文档说明不全，常见配置要持续优化到MDP后台上，通过表单填写简化配置，通过配置检查，降低人工操作出错率。

* sdk对接文档不够清晰，客户经常过来问对接上面的问题。

* 产品大版本的部署架构、应用服务变化快，缺少相应变更文档说明。


#### 协作流程

* 落实工单记录处理，对未提交工单的非1v1客户，非紧急情况不作处理，避免IM群直接响应客户（因此缺少问题工单记录，不便于问题跟进回顾）。



## 26年工作规划

部署自动化完善

* 支持界面化部署与配置

* 国产化系统适配扩展

* Mocro 与部署升级流程的打通，管理客户版本周期。

基础设施升级

* k8s版本升级，使用Containerd运行时，使用kubeadm作为部署工具。

* Ingress-nginx 升级替换新产品调研

中间件升级优化

* 达梦适配兼容，需支持直接初始化，以及后续版本升级的Migrations

* Redis使用1个实例，db数控制在默认的16个，redis 版本升级6.2.×，8.×

* Kafka版本升级

* ES版本升级8.×方法

* Minio 版本升级方案，及其他替代方案

监控与告警

* 日志标准化部署及内置告警规则与通知

* 基于日志的sla指标看板及告警

* 监控集成部署，内置标准告警规则与通知

* 对接客户监控与日志的方案和说明文档

* 时间同步状态监控告警 ***

交付流程与文档

* 部署交付流程，准入准出，前置检查，checklist ，交付物，sre交付验收流程jira 

        -  时间同步，cdn缓存压缩配置检查

* 优化部署资源要求标准明确(支持的软硬件)

* 标准化部署自助操作

* 非标部署

* 常见问题处理SOP持续补充

* 数据备份与迁移方案


